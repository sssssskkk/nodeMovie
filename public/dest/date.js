!function(window){Date.prototype.format=function(format){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(format)&&(format=format.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var k in o)new RegExp("("+k+")").test(format)&&(format=format.replace(RegExp.$1,1==RegExp.$1.length?o[k]:("00"+o[k]).substr((""+o[k]).length)));return format},Date.prototype.ago=function(){if(!arguments.length)return"";var arg=arguments,now=this.getTime(),past=isNaN(arg[0])?new Date(arg[0]).getTime():arg[0],diffValue=now-past,result="";return minute=6e4,hour=60*minute,day=24*hour,halfamonth=15*day,month=30*day,year=12*month,_year=diffValue/year,_month=diffValue/month,_week=diffValue/(7*day),_day=diffValue/day,_hour=diffValue/hour,_min=diffValue/minute,result=_year>=1?parseInt(_year)+"年前":_month>=1?parseInt(_month)+"个月前":_week>=1?parseInt(_week)+"周前":_day>=1?parseInt(_day)+"天前":_hour>=1?parseInt(_hour)+"个小时前":_min>=1?parseInt(_min)+"分钟前":"刚刚"},Date.prototype.TZC=function(timeZone){var new_date=new Date,old_date=this.getTime();return isNaN(timeZone)&&!timeZone?this:new Date(old_date+60*new_date.getTimezoneOffset()*1e3+60*timeZone*60*1e3)},String.prototype.toHHMMSS=function(format){var hour,minute,second,o,str=this.replace(/^\s\s*/,"");if(!str.length&&str.length>0)return"";str=parseInt(str),hour=parseInt(str/3600),minute=parseInt(str/60),minute>=60&&(minute%=60),second=str%60,o={"h+":hour,"m+":minute,"s+":second};for(var k in o)new RegExp("("+k+")").test(format)&&(format="hh"==RegExp.$1&&hour>99?format.replace("hh",hour):format.replace(RegExp.$1,1==RegExp.$1.length?o[k]:("00"+o[k]).substr((""+o[k]).length)));return format}}(window);