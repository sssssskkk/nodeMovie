!function(e){Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},Date.prototype.ago=function(){if(!arguments.length)return"";var e=arguments,t=this.getTime(),n=isNaN(e[0])?new Date(e[0]).getTime():e[0],r=t-n,a="";return minute=6e4,hour=60*minute,day=24*hour,halfamonth=15*day,month=30*day,year=12*month,_year=r/year,_month=r/month,_week=r/(7*day),_day=r/day,_hour=r/hour,_min=r/minute,a=_year>=1?parseInt(_year)+"年前":_month>=1?parseInt(_month)+"个月前":_week>=1?parseInt(_week)+"周前":_day>=1?parseInt(_day)+"天前":_hour>=1?parseInt(_hour)+"个小时前":_min>=1?parseInt(_min)+"分钟前":"刚刚"},Date.prototype.TZC=function(e){var t=new Date,n=this.getTime();return isNaN(e)&&!e?this:new Date(n+60*t.getTimezoneOffset()*1e3+60*e*60*1e3)},String.prototype.toHHMMSS=function(e){var t,n,r,a,h=this.replace(/^\s\s*/,"");if(!h.length&&h.length>0)return"";h=parseInt(h),t=parseInt(h/3600),n=parseInt(h/60),n>=60&&(n%=60),r=h%60,a={"h+":t,"m+":n,"s+":r};for(var s in a)new RegExp("("+s+")").test(e)&&(e="hh"==RegExp.$1&&t>99?e.replace("hh",t):e.replace(RegExp.$1,1==RegExp.$1.length?a[s]:("00"+a[s]).substr((""+a[s]).length)));return e}}(window);